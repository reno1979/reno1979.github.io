"use strict";(self.webpackChunkaip=self.webpackChunkaip||[]).push([[552],{"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _toConsumableArray}});var arrayLikeToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return(0,arrayLikeToArray.Z)(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||(0,unsupportedIterableToArray.Z)(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./libs/ui/reports/ovs/src/__stubs__/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{_c:function(){return OVSJunctionBoxes},lE:function(){return OVSSupportSystems}});var _templateObject,geography4={coordinates:[52.37044,4.895]},geography5={coordinates:[52.37045,4.8956]},geography6={coordinates:[52.37045,4.8954]},geography7={coordinates:[52.37048,4.8952]},geography8={coordinates:[52.37051,4.895]},geography9={coordinates:[52.37041,4.8957]},geography10={coordinates:[52.37039,4.8944]},geography11={coordinates:[52.37031,4.8942]},geography12={coordinates:[52.37034,4.894]},geography13={coordinates:[52.37035,4.8946]},OVSJunctionBox1={id:"junction-box-1",name:"junction-box-1",geography:{coordinates:[52.37039,4.8956]}},OVSJunctionBox2={id:"junction-box-2",name:"junction-box-2",geography:{coordinates:[52.37039,4.8954]}},OVSJunctionBox3={id:"junction-box-3",name:"junction-box-3",geography:{coordinates:[52.37041,4.8952]}},OVSJunctionBoxes=[OVSJunctionBox1,OVSJunctionBox2,OVSJunctionBox3,{id:"junction-box-4",name:"junction-box-4"}],taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),lib=__webpack_require__("./node_modules/graphql-tag/lib/index.js");var SupportSystemType=function(SupportSystemType){return SupportSystemType.Facade="Facade",SupportSystemType.Mast="Mast",SupportSystemType.Node="Node",SupportSystemType.TensionWire="TensionWire",SupportSystemType}({});(0,lib.ZP)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n    query getOVSReportData($surveyId: String!) {\n  getSurveyById(id: $surveyId) {\n    object {\n      name\n      code\n    }\n  }\n  spanInstallationJunctionBoxes(surveyId: $surveyId) {\n    id\n    name\n    geography\n  }\n  spanInstallationSupportSystems(surveyId: $surveyId) {\n    id\n    name\n    type\n    geography\n    luminaires {\n      id\n      name\n      geography\n    }\n  }\n}\n    "])));var OVSLuminaire1={id:"luminaire-1",name:"luminaire-name-1",geography:geography11},OVSLuminaire2={id:"luminaire-2",name:"luminaire-name-2",geography:geography12},OVSLuminaire3={id:"luminaire-3",name:"luminaire-name-3",geography:geography13},OVSLuminaire4={id:"luminaire-4",name:"luminaire-name-4"},OVSLuminaire5={id:"luminaire-5",name:"luminaire-name-5"},OVSLuminaire6={id:"luminaire-6",name:"luminaire-name-6"},OVSLuminaires=[OVSLuminaire1,OVSLuminaire2,OVSLuminaire3,OVSLuminaire4,OVSLuminaire5,OVSLuminaire6],OVSSupportSystem1={id:"support-system-1",name:"support-system-name-1",type:SupportSystemType.TensionWire,geography:geography10,luminaires:[OVSLuminaire1,OVSLuminaire2,OVSLuminaire3]},OVSSupportSystem2={id:"support-system-2",name:"support-sysem-name-2",type:SupportSystemType.TensionWire,geography:geography9,luminaires:[OVSLuminaire4,OVSLuminaire5,OVSLuminaire6]},OVSSupportSystem3={id:"support-system-3",name:"support-system-name-3",type:SupportSystemType.TensionWire,geography:geography8,luminaires:OVSLuminaires},OVSSupportSystem4={id:"support-system-4",name:"support-system-name-4",type:SupportSystemType.Facade,geography:geography7,luminaires:[]},OVSSupportSystem5={id:"support-system-5",name:"support-system-name-5",type:SupportSystemType.Mast,geography:geography6,luminaires:[]},OVSSupportSystem6={id:"support-system-6",name:"support-system-name-6",type:SupportSystemType.Node,geography:geography5,luminaires:[]},OVSSupportSystem7={id:"support-system-7",name:"support-system-name-7",type:SupportSystemType.Facade,geography:geography4,luminaires:[]},OVSSupportSystems=(SupportSystemType.Node,SupportSystemType.Facade,[OVSSupportSystem1,OVSSupportSystem2,OVSSupportSystem3,OVSSupportSystem4,OVSSupportSystem5,OVSSupportSystem6,OVSSupportSystem7])},"./libs/ui/reports/ovs/src/components/OVSEntityMap/OVSEntityMap.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_aip_ui_reports_shared__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/ui/reports/shared/src/index.ts"),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/ui/reports/ovs/src/components/OVSEntityMap/utils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["junctionBoxes","supportSystems","selectedEntityId"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}var OVSEntityMap=function OVSEntityMap(_ref){var junctionBoxes=_ref.junctionBoxes,supportSystems=_ref.supportSystems,selectedEntityId=_ref.selectedEntityId,rest=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__.Z)(_ref,_excluded),entities=[].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_utils__WEBPACK_IMPORTED_MODULE_2__.ni)(junctionBoxes)),(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_utils__WEBPACK_IMPORTED_MODULE_2__.h$)(supportSystems)),(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_utils__WEBPACK_IMPORTED_MODULE_2__.RH)(supportSystems)));return entities.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_aip_ui_reports_shared__WEBPACK_IMPORTED_MODULE_1__.t$,function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({entities:entities,selectedEntityId:selectedEntityId},rest)):null};OVSEntityMap.displayName="OVSEntityMap",__webpack_exports__.Z=OVSEntityMap;try{OVSEntityMap.displayName="OVSEntityMap",OVSEntityMap.__docgenInfo={description:"",displayName:"OVSEntityMap",props:{selectedEntityId:{defaultValue:null,description:"",name:"selectedEntityId",required:!1,type:{name:"string"}},junctionBoxes:{defaultValue:null,description:"",name:"junctionBoxes",required:!1,type:{name:"OVSJunctionBox[]"}},supportSystems:{defaultValue:null,description:"",name:"supportSystems",required:!1,type:{name:"OVSSupportSystem[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["libs/ui/reports/ovs/src/components/OVSEntityMap/OVSEntityMap.tsx#OVSEntityMap"]={docgenInfo:OVSEntityMap.__docgenInfo,name:"OVSEntityMap",path:"libs/ui/reports/ovs/src/components/OVSEntityMap/OVSEntityMap.tsx#OVSEntityMap"})}catch(__react_docgen_typescript_loader_error){}},"./libs/ui/reports/ovs/src/components/OVSEntityMap/utils.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{ni:function(){return junctionBoxesToEntitiesWithGeoGraphyAndIcon},RH:function(){return luminairesToEntitiesWithGeoGraphyAndIcon},h$:function(){return supportSystemsToEntitiesWithGeoGraphyAndIcon}});var leaflet_src=__webpack_require__("./node_modules/leaflet/dist/leaflet-src.js"),leaflet_src_default=__webpack_require__.n(leaflet_src),OVSIcon=__webpack_require__("./libs/ui/reports/ovs/src/components/OVSIcon/index.ts"),svgSettings={width:40,height:54},OVSEntityMapLuminairePointerIcon=new(leaflet_src_default().DivIcon)({html:(0,OVSIcon.AL)(svgSettings),iconAnchor:[20,27]}),OVSEntityMapFacadePointerIcon=new(leaflet_src_default().DivIcon)({html:(0,OVSIcon.yW)(svgSettings),iconAnchor:[20,27]}),OVSEntityMapJunctionBoxPointerIcon=new(leaflet_src_default().DivIcon)({html:(0,OVSIcon.BG)(svgSettings),iconAnchor:[20,27]}),OVSEntityMapMastPointerIcon=new(leaflet_src_default().DivIcon)({html:(0,OVSIcon.CW)(svgSettings),iconAnchor:[20,27]}),OVSEntityMapNodePointerIcon=new(leaflet_src_default().DivIcon)({html:(0,OVSIcon.EW)(svgSettings),iconAnchor:[20,27]});function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function junctionBoxesToEntitiesWithGeoGraphyAndIcon(junctionBoxes){return null!=junctionBoxes&&junctionBoxes.length?junctionBoxes.filter((function(_ref){var geography=_ref.geography;return geography&&geography.coordinates&&geography.coordinates.length})).map((function(_ref2){var id=_ref2.id,name=_ref2.name,geography=_ref2.geography;return{id:id,name:name,latitude:geography.coordinates[0],longitude:geography.coordinates[1],icon:OVSEntityMapJunctionBoxPointerIcon}})):[]}function getSupportSystemPointerIcon(type){switch(type){case"Facade":return OVSEntityMapFacadePointerIcon;case"Mast":return OVSEntityMapMastPointerIcon;case"Node":return OVSEntityMapNodePointerIcon}}function supportSystemsToEntitiesWithGeoGraphyAndIcon(supportSystems){return null!=supportSystems&&supportSystems.length?supportSystems.filter((function(_ref3){var geography=_ref3.geography;return"TensionWire"!==_ref3.type&&geography&&geography.coordinates&&geography.coordinates.length})).map((function(_ref4){var id=_ref4.id,name=_ref4.name,geography=_ref4.geography,type=_ref4.type;return{id:id,name:name,latitude:geography.coordinates[0],longitude:geography.coordinates[1],icon:getSupportSystemPointerIcon(type)}})):[]}function luminairesToEntitiesWithGeoGraphyAndIcon(supportSystems){if(null==supportSystems||!supportSystems.length)return[];var _step,nestedLuminaires=[],_iterator=_createForOfIteratorHelper(supportSystems);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_step.value,type=_step$value.type,luminaires=_step$value.luminaires;"TensionWire"===type&&null!=luminaires&&luminaires.length&&(nestedLuminaires=nestedLuminaires.concat(luminaires))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return nestedLuminaires.filter((function(_ref5){var geography=_ref5.geography;return geography&&geography.coordinates&&geography.coordinates.length})).map((function(_ref6){var id=_ref6.id,name=_ref6.name,geography=_ref6.geography;return{id:id,name:name,latitude:geography.coordinates[0],longitude:geography.coordinates[1],icon:OVSEntityMapLuminairePointerIcon}}))}},"./libs/ui/reports/ovs/src/components/OVSIcon/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{AL:function(){return _icons__WEBPACK_IMPORTED_MODULE_1__.AL},BG:function(){return _icons__WEBPACK_IMPORTED_MODULE_1__.BG},CW:function(){return _icons__WEBPACK_IMPORTED_MODULE_1__.CW},EW:function(){return _icons__WEBPACK_IMPORTED_MODULE_1__.EW},yW:function(){return _icons__WEBPACK_IMPORTED_MODULE_1__.yW}});__webpack_require__("./libs/ui/reports/ovs/src/components/OVSIcon/OVSIcon.tsx");var _icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/ui/reports/ovs/src/components/OVSIcon/icons.ts")}}]);